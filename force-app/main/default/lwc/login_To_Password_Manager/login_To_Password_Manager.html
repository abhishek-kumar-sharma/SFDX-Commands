<template>
<div id="main-container">
    <!-- Header Start -->
    <lightning-layout>
        <lightning-layout-item padding="around-small" size="12" medium-device-size="12" small-device-size="12" large-device-size="12">
            <div class="slds-page-header slds-text-align--center">
                <template if:true={isLogin}>
                    <div class="slds-float--right">
                            <lightning-button label="Logout" variant="destructive" onclick={handleLogout} ></lightning-button>
                    </div>
                </template>
                <div class="slds-page-header__name-title">
                    <h1>
                        <span class="slds-page-header__title slds-truncate" title="Personal Password Manager">
                        Personal Password Manager
                        </span>
                    </h1>
                </div>
            </div>
        </lightning-layout-item>
    </lightning-layout>
    <!-- Header end -->


    <!-- Login Form start-->
    <template if:false={isLogin}>
        <lightning-layout>
            <lightning-layout-item padding="around-small" size="4" small-device-size="4" medium-device-size="4" large-device-size="4"></lightning-layout-item>
            <lightning-layout-item padding="around-small" size="4" small-device-size="4" medium-device-size="4" large-device-size="4">
                <div class={hasPageError} role="alert">
                    <h2>{errorMessage}</h2>
                </div>
                <lightning-card title="">
                    <!-- Login Errors -->
                        <div class="slds-m-around--small">
                            <lightning-input aria-autocomplete="true" label="User name" message-when-value-missing="User name is required" required onblur={setInputValue} type="text" name="username" value={user.userId}></lightning-input>
                        </div>
                        <div class="slds-m-around--small">
                                <lightning-input label="Password" onblur={setInputValue}   type="password" message-when-value-missing="Password is required" required name="password" value={user.password}></lightning-input>
                        </div>
                        <div class="slds-m-around--small slds-align_absolute-center">
                            <lightning-button value="Login" variant="brand" label="Login" onclick={handleLogin}></lightning-button>
                        </div>
                    </lightning-card>
            </lightning-layout-item>
            <lightning-layout-item padding="around-small" size="4" small-device-size="4" medium-device-size="4" large-device-size="4"></lightning-layout-item>
        </lightning-layout>
    </template>
    <!-- Login form End-->

<!-- If logged in successfully -->
    <template if:true={isLogin}>
        <div class="slds-box slds-theme_shade">
            <div class="slds-m-aroung--small">
            <!-- Data table -->
            <lightning-datatable
            key-field="Id"
            data={allloginRecords}
            columns={dataTableColumns}
            show-row-number-column
            hide-checkbox-column
            resize-column-disabled
            is-loading={dataTableDataLoadWait}
            onrowaction={handleRowButtonActions}
            ></lightning-datatable>
        </div>
    </div>
    </template>
</div> 
</template>